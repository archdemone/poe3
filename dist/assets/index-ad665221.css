html,body{margin:0;padding:0;width:100%;height:100%;overflow:hidden;background:#111;font-family:Arial,sans-serif}#renderCanvas{width:100vw;height:100vh;display:block;outline:none}#dynamic-ui{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:5000}#ui{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:1000}.resource-orbs{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:100}.orb-container{width:120px;height:120px;position:absolute}.health-orb-container{bottom:20px;left:20px}.mana-orb-container{bottom:20px;right:20px}.orb{width:100%;height:100%;border-radius:50%;position:relative;overflow:hidden;border:3px solid rgba(150,150,150,.8);box-shadow:inset 0 0 20px #000c,0 0 15px #96969666}.orb-fill{position:absolute;bottom:0;left:0;right:0;height:100%;transition:height .3s ease}.health-orb .orb-fill{background:linear-gradient(180deg,#ff4444 0%,#aa0000 100%);box-shadow:inset 0 0 20px #ff646499}.mana-orb .orb-fill{background:linear-gradient(180deg,#4444ff 0%,#0000aa 100%);box-shadow:inset 0 0 20px #6464ff99}.orb-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:1.2rem;font-weight:700;text-shadow:0 0 8px rgba(0,0,0,1),0 0 4px rgba(0,0,0,1);pointer-events:none;z-index:10}.orb-label{position:absolute;bottom:-25px;left:50%;transform:translate(-50%);color:#aaa;font-size:1rem;text-transform:uppercase;letter-spacing:1px;white-space:nowrap}#skill-bar{position:absolute;bottom:20px;left:50%;transform:translate(-50%);display:flex;flex-direction:column;align-items:center;gap:8px;pointer-events:auto;z-index:100;background:linear-gradient(135deg,rgba(30,30,35,.95),rgba(40,40,45,.95));padding:12px 16px;border-radius:8px;border:2px solid rgba(150,150,150,.5);box-shadow:0 0 20px #000c,inset 0 0 30px #00000080}#skill-bar .row{display:flex;gap:8px}#skill-bar .slot{width:54px;height:54px;border:2px solid rgba(120,120,130,.6);border-radius:6px;background:linear-gradient(135deg,rgba(20,20,25,.9),rgba(35,35,40,.9));color:#ccc;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.7rem;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .3s ease;position:relative;box-shadow:inset 0 0 10px #000c,0 2px 4px #00000080;white-space:pre-line;text-align:center;line-height:1.1}#skill-bar .slot:before{content:"";position:absolute;top:2px;left:2px;right:2px;bottom:2px;border-radius:4px;background:linear-gradient(135deg,rgba(80,80,90,.1),transparent);pointer-events:none}#skill-bar .slot.has-skill{border-color:#b4a06480;box-shadow:inset 0 0 10px #000c,0 0 8px #b4a06433,0 2px 4px #00000080}#skill-bar .slot:hover{border-color:#b4b4c8e6;background:linear-gradient(135deg,rgba(35,35,40,1),rgba(45,45,50,1));box-shadow:inset 0 0 10px #000c,0 0 15px #9696aa66,0 2px 4px #00000080;transform:translateY(-2px)}#skill-bar .slot:active{transform:translateY(0)}#assign-modal.hidden,#g-menu.hidden,#dungeon-modal.hidden,#map-device-modal.hidden{display:none}#assign-modal,#g-menu,#dungeon-modal{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);min-width:280px;max-width:90%;background:linear-gradient(135deg,rgba(25,25,30,.98),rgba(35,35,40,.98));border:2px solid rgba(150,150,160,.6);border-radius:8px;padding:25px;color:#ccc;pointer-events:auto;z-index:1000;box-shadow:0 0 30px #000000e6,inset 0 0 40px #0000004d}#dungeon-modal h2{margin-top:0;margin-bottom:15px;font-size:1.5rem;color:#d4d4d8;text-transform:uppercase;letter-spacing:2px;text-shadow:0 2px 4px rgba(0,0,0,.8);border-bottom:2px solid rgba(150,150,160,.3);padding-bottom:10px;text-align:center}#dungeon-modal p{margin-top:0;margin-bottom:20px;line-height:1.5;color:#aaa;text-align:center}#dungeon-modal button{margin:5px;padding:10px 20px;background:linear-gradient(135deg,rgba(60,60,70,.9),rgba(70,70,80,.9));color:#ddd;border:2px solid rgba(130,130,140,.5);border-radius:4px;cursor:pointer;transition:all .3s ease;font-weight:700;text-transform:uppercase;letter-spacing:1px;box-shadow:0 2px 4px #00000080}#dungeon-modal button:hover{background:linear-gradient(135deg,rgba(70,70,80,1),rgba(80,80,90,1));border-color:#a0a0b4cc;box-shadow:0 0 10px #9696aa4d;transform:translateY(-1px)}#assign-modal h2,#g-menu h2{margin-top:0;margin-bottom:15px;font-size:1.5rem;color:#d4d4d8;text-transform:uppercase;letter-spacing:2px;text-shadow:0 2px 4px rgba(0,0,0,.8);border-bottom:2px solid rgba(150,150,160,.3);padding-bottom:10px}#assign-modal h3,#g-menu h3{color:#b8b8c0;font-size:1rem;margin:15px 0 10px;text-transform:uppercase;letter-spacing:1px}#assign-modal p,#g-menu p{margin-top:0;margin-bottom:.8rem;line-height:1.5;color:#aaa}#assign-modal button{margin-top:1rem;padding:8px 16px;background:linear-gradient(135deg,rgba(60,60,70,.9),rgba(70,70,80,.9));color:#ddd;border:2px solid rgba(130,130,140,.5);border-radius:4px;cursor:pointer;transition:all .3s ease;font-weight:700;text-transform:uppercase;letter-spacing:1px;box-shadow:0 2px 4px #00000080}#assign-modal button:hover{background:linear-gradient(135deg,rgba(70,70,80,1),rgba(80,80,90,1));border-color:#a0a0b4cc;box-shadow:0 0 10px #9696aa4d;transform:translateY(-1px)}#map-device-modal{position:fixed;top:50%;left:20px;transform:translateY(-50%);min-width:600px;max-width:600px;background:rgba(25,25,30,.95);border:2px solid rgba(150,150,160,.8);border-radius:8px;padding:25px;color:#ccc;pointer-events:auto;z-index:1200;box-shadow:0 0 30px #000000e6,inset 0 0 40px #0000004d}#map-device-modal h2{margin-top:0;margin-bottom:10px;font-size:1.8rem;color:#d4d4d8;text-transform:uppercase;letter-spacing:2px;text-shadow:0 2px 4px rgba(0,0,0,.8);text-align:center}#map-device-modal>p{margin:0 0 20px;text-align:center;color:#aaa;font-size:.9rem}.map-device-sections{display:flex;gap:20px;margin-bottom:20px}.map-slot-section,.map-info-section{flex:1;background:rgba(20,20,25,.6);border:2px solid rgba(120,120,130,.3);border-radius:6px;padding:15px}.map-slot-section h3,.map-info-section h3{margin:0 0 15px;font-size:1rem;color:#b8b8c0;text-transform:uppercase;letter-spacing:1px;border-bottom:1px solid rgba(120,120,130,.3);padding-bottom:8px}.map-device-slot{min-height:120px;border:2px dashed rgba(120,120,130,.4);border-radius:4px;background:rgba(30,30,35,.5);display:flex;align-items:center;justify-content:center;transition:all .3s ease;margin-bottom:15px}.map-device-slot.empty{cursor:pointer}.map-device-slot:hover{border-color:#9696a099;background:rgba(40,40,45,.6)}.slot-placeholder{color:#666;font-style:italic;font-size:.9rem}.map-item-display{text-align:center;padding:10px}.map-icon{font-size:2.5rem;margin-bottom:8px}.map-name{font-weight:700;color:#d4d4d8;font-size:1rem}.clear-map-btn{width:100%;padding:8px;background:linear-gradient(135deg,rgba(80,40,40,.9),rgba(90,50,50,.9));color:#ddd;border:2px solid rgba(140,80,80,.5);border-radius:4px;cursor:pointer;transition:all .3s ease;font-weight:700;text-transform:uppercase;font-size:.85rem}.clear-map-btn:hover{background:linear-gradient(135deg,rgba(100,50,50,1),rgba(110,60,60,1));border-color:#a05a5acc}.map-info-display{min-height:120px;color:#aaa}.no-map-selected{text-align:center;color:#666;font-style:italic;padding:40px 20px;margin:0}.map-info-content h4{margin:0 0 15px;font-size:1.1rem;color:#d4d4d8;text-align:center;border-bottom:1px solid rgba(120,120,130,.3);padding-bottom:8px}.map-modifiers{display:flex;flex-direction:column;gap:8px}.map-modifier{display:flex;justify-content:space-between;padding:6px 10px;background:rgba(30,30,35,.6);border-radius:3px;font-size:.9rem}.modifier-label{color:#aaa}.modifier-value{color:#7fbfff;font-weight:700}.map-device-actions{display:flex;gap:15px;justify-content:center}.activate-btn,.cancel-btn{padding:12px 30px;border-radius:4px;cursor:pointer;font-weight:700;text-transform:uppercase;letter-spacing:1px;transition:all .3s ease;font-size:1rem;border:2px solid}.activate-btn{background:linear-gradient(135deg,rgba(60,100,60,.9),rgba(70,110,70,.9));color:#ddd;border-color:#64966480}.activate-btn:hover:not(:disabled){background:linear-gradient(135deg,rgba(70,110,70,1),rgba(80,120,80,1));border-color:#78aa78cc;box-shadow:0 0 15px #64966466}.activate-btn:disabled{opacity:.4;cursor:not-allowed}.cancel-btn{background:linear-gradient(135deg,rgba(60,60,70,.9),rgba(70,70,80,.9));color:#ddd;border-color:#82828c80}.cancel-btn:hover{background:linear-gradient(135deg,rgba(70,70,80,1),rgba(80,80,90,1));border-color:#a0a0b4cc;box-shadow:0 0 15px #9696aa4d}.damage-number{font-size:16px;pointer-events:none;text-shadow:0 0 4px rgba(0,0,0,.8)}.enemy-health-bar{position:absolute;pointer-events:none;width:60px}.health-bar-bg{width:100%;height:6px;background:rgba(40,0,0,.8);border:1px solid rgba(0,0,0,.9);border-radius:3px;overflow:hidden;box-shadow:0 0 4px #000c}.health-bar-fill{height:100%;background:linear-gradient(to bottom,#ff4444,#cc0000);width:100%;transition:width .2s ease;box-shadow:inset 0 1px 2px #ff646499}.weapon-sockets{display:flex;align-items:center;gap:10px;margin-bottom:15px;padding:12px;background:rgba(20,20,25,.5);border-radius:6px;border:1px solid rgba(120,120,130,.3)}.weapon-sockets .socket{width:44px;height:44px;border:2px solid rgba(120,120,130,.6);border-radius:6px;background:linear-gradient(135deg,rgba(30,30,35,.9),rgba(45,45,50,.9));color:#ccc;display:flex;align-items:center;justify-content:center;font-size:.75rem;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .3s ease;box-shadow:inset 0 0 10px #000c}.weapon-sockets .socket.active{width:52px;height:52px;border-color:#b4a064cc;font-weight:700;box-shadow:inset 0 0 10px #000c,0 0 12px #b4a06466}.weapon-sockets .socket:hover:not(.disabled){border-color:#a0a0b4e6;background:linear-gradient(135deg,rgba(40,40,45,1),rgba(55,55,60,1))}.weapon-sockets .socket.support.disabled{opacity:.3;pointer-events:none}.skills-list{display:flex;flex-wrap:wrap;gap:8px}.skills-list .skill-btn{padding:8px 14px;background:linear-gradient(135deg,rgba(50,50,60,.9),rgba(60,60,70,.9));color:#ccc;border:2px solid rgba(120,120,130,.5);border-radius:4px;cursor:pointer;font-size:.85rem;font-weight:700;-webkit-user-select:none;user-select:none;transition:all .3s ease;text-transform:uppercase;letter-spacing:.5px;box-shadow:0 2px 4px #00000080}.skills-list .skill-btn:hover{background:linear-gradient(135deg,rgba(60,60,70,1),rgba(70,70,80,1));border-color:#9696aacc;box-shadow:0 0 10px #8c8ca04d;transform:translateY(-2px)}#flask-bar{position:fixed;bottom:20px;left:calc(50% + 300px);z-index:1000;-webkit-user-select:none;user-select:none}.flask-row{display:flex;gap:10px}.flask-slot{width:60px;height:60px;background:linear-gradient(135deg,rgba(40,40,50,.9),rgba(50,50,60,.9));border:2px solid rgba(100,100,120,.6);border-radius:8px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;position:relative;box-shadow:0 4px 8px #00000080}.flask-slot:hover{background:linear-gradient(135deg,rgba(50,50,60,1),rgba(60,60,70,1));border-color:#78788ce6;transform:translateY(-2px);box-shadow:0 6px 12px #000000b3}.flask-icon{font-size:24px;margin-bottom:2px}.flask-charges{font-size:12px;font-weight:700;color:#fff;background:rgba(0,0,0,.7);padding:2px 6px;border-radius:10px;min-width:20px;text-align:center;position:absolute;bottom:-5px;right:-5px}.flask-slot.empty .flask-icon{opacity:.3}.flask-slot.ready .flask-icon{color:#4ade80;text-shadow:0 0 8px rgba(74,222,128,.8)}.flask-slot.cooldown .flask-icon{color:#f87171;opacity:.6}#g-menu button{margin-top:10px;padding:10px 18px;background:linear-gradient(135deg,rgba(60,60,70,.9),rgba(70,70,80,.9));color:#ddd;border:2px solid rgba(130,130,140,.5);border-radius:4px;cursor:pointer;transition:all .3s ease;font-weight:700;text-transform:uppercase;letter-spacing:1px;box-shadow:0 2px 4px #00000080}#g-menu button:hover{background:linear-gradient(135deg,rgba(70,70,80,1),rgba(80,80,90,1));border-color:#a0a0b4cc;box-shadow:0 0 10px #9696aa4d;transform:translateY(-1px)}.esc-menu{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.85);display:flex;align-items:center;justify-content:center;z-index:8000;pointer-events:auto}.esc-menu.hidden{display:none}.esc-content{background:linear-gradient(135deg,rgba(25,25,30,.98),rgba(35,35,40,.98));border:3px solid rgba(150,150,160,.6);border-radius:8px;padding:40px;min-width:400px;box-shadow:0 0 40px #000000e6,inset 0 0 40px #0000004d}.esc-content h2{color:#d4d4d8;margin:0 0 30px;font-size:2rem;text-align:center;text-transform:uppercase;letter-spacing:3px;text-shadow:0 2px 8px rgba(0,0,0,.8);border-bottom:2px solid rgba(150,150,160,.3);padding-bottom:15px}.esc-buttons{display:flex;flex-direction:column;gap:15px}.esc-btn{padding:15px 30px;font-size:1.1rem;font-weight:700;color:#d4d4d8;background:linear-gradient(135deg,rgba(60,60,70,.9),rgba(70,70,80,.9));border:2px solid rgba(130,130,140,.5);border-radius:6px;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:2px;box-shadow:0 2px 6px #0009}.esc-btn:hover{background:linear-gradient(135deg,rgba(70,70,80,1),rgba(80,80,90,1));border-color:#a0a0b4cc;box-shadow:0 0 15px #9696aa66;transform:translateY(-2px)}.esc-btn:active{transform:translateY(0)}.char-sheet{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:7000;pointer-events:auto}.char-sheet.hidden{display:none}.sheet-content{background:linear-gradient(135deg,rgba(25,25,30,.98),rgba(35,35,40,.98));border:3px solid rgba(150,150,160,.6);border-radius:8px;padding:30px;width:600px;max-width:90%;max-height:85vh;overflow-y:auto;box-shadow:0 0 40px #000000e6,inset 0 0 40px #0000004d;position:relative}.sheet-content h2{color:#d4d4d8;margin:0 0 20px;font-size:2rem;text-align:center;text-transform:uppercase;letter-spacing:3px;text-shadow:0 2px 8px rgba(0,0,0,.8);border-bottom:2px solid rgba(150,150,160,.3);padding-bottom:15px}.close-btn{position:absolute;top:15px;right:15px;width:35px;height:35px;border:2px solid rgba(130,130,140,.5);background:rgba(50,50,60,.8);color:#d4d4d8;font-size:1.5rem;font-weight:700;cursor:pointer;border-radius:4px;transition:all .3s ease;display:flex;align-items:center;justify-content:center;padding:0;line-height:1}.close-btn:hover{background:rgba(70,70,80,1);border-color:#a0a0b4cc;box-shadow:0 0 10px #9696aa4d}.sheet-sections{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.sheet-section{background:rgba(30,30,35,.7);border:2px solid rgba(120,120,130,.4);border-radius:6px;padding:15px;box-shadow:inset 0 0 20px #00000080}.sheet-section h3{color:#b8b8c0;margin:0 0 12px;font-size:1.2rem;text-transform:uppercase;letter-spacing:2px;border-bottom:2px solid rgba(120,120,130,.3);padding-bottom:8px}.stat-row{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid rgba(120,120,130,.2)}.stat-row:last-child{border-bottom:none}.stat-label{color:#aaa;font-size:.95rem}.stat-value{color:#d4d4d8;font-weight:700;font-size:1rem;text-shadow:0 1px 3px rgba(0,0,0,.8)}#stat-str,#stat-dex,#stat-int{color:#c4b088;text-shadow:0 0 8px rgba(196,176,136,.3)}#stat-hp,#stat-max-hp{color:#ff6b6b}#stat-mp,#stat-max-mp{color:#6b9fff}.debug-section{grid-column:1 / -1;margin-top:10px}.debug-section .stat-row{flex-direction:column;align-items:stretch;gap:5px}.debug-section label{color:#999;font-size:.9rem;display:flex;justify-content:space-between}.debug-section input[type=range]{width:100%;cursor:pointer;accent-color:rgba(180,160,100,.9)}@media (max-width: 768px){.sheet-sections{grid-template-columns:1fr}.sheet-content{width:95%;padding:20px}}.sheet-content::-webkit-scrollbar{width:10px}.sheet-content::-webkit-scrollbar-track{background:rgba(20,20,25,.5);border-radius:4px}.sheet-content::-webkit-scrollbar-thumb{background:rgba(130,130,140,.6);border-radius:4px}.sheet-content::-webkit-scrollbar-thumb:hover{background:rgba(160,160,180,.8)}.skill-tree{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.85);display:flex;align-items:center;justify-content:center;z-index:7500;pointer-events:auto}.skill-tree.hidden{display:none}.tree-panel{background:linear-gradient(135deg,rgba(25,25,30,.98),rgba(35,35,40,.98));border:3px solid rgba(150,150,160,.6);border-radius:8px;width:700px;max-width:95%;max-height:90vh;box-shadow:0 0 40px #000000e6,inset 0 0 40px #0000004d;display:flex;flex-direction:column;position:relative}.tree-header{padding:20px 25px;border-bottom:2px solid rgba(120,120,130,.3);position:relative}.tree-header h2{color:#d4d4d8;margin:0 0 10px;font-size:1.8rem;text-align:center;text-transform:uppercase;letter-spacing:3px;text-shadow:0 2px 8px rgba(0,0,0,.8)}.tree-info{display:flex;justify-content:space-between;align-items:center;margin-top:10px}.points-display{color:#b8b8c0;font-size:1rem;font-weight:700;letter-spacing:1px}#available-points{color:#c4b088;font-size:1.2rem}#total-points{color:#888}.small-btn{padding:6px 12px;background:linear-gradient(135deg,rgba(60,60,70,.9),rgba(70,70,80,.9));color:#ddd;border:2px solid rgba(130,130,140,.5);border-radius:4px;cursor:pointer;transition:all .3s ease;font-size:.85rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px}.small-btn:hover{background:linear-gradient(135deg,rgba(70,70,80,1),rgba(80,80,90,1));border-color:#a0a0b4cc;box-shadow:0 0 8px #9696aa4d}.tree-canvas-container{padding:20px;flex:1;overflow:auto;background:rgba(15,15,20,.8);border-bottom-left-radius:6px;border-bottom-right-radius:6px}#tree-svg{display:block;margin:0 auto}.tree-node{cursor:pointer;transition:all .2s ease}.tree-node circle{transition:all .3s ease}.tree-node.start circle{fill:#50505ae6;stroke:#c8c8d2e6;stroke-width:3}.tree-node.unallocated circle{fill:#282832cc;stroke:#64646e99;stroke-width:2}.tree-node.unallocated.can-allocate circle{stroke:#9696aacc;stroke-width:2.5}.tree-node.unallocated.can-allocate:hover circle{fill:#3c3c46e6;stroke:#b4b4c8;filter:drop-shadow(0 0 8px rgba(150,150,170,.6))}.tree-node.allocated circle{fill:#464655;stroke:#b4b4c8;stroke-width:3;filter:drop-shadow(0 0 10px rgba(150,150,170,.5))}.tree-node.notable.allocated circle{fill:#5a5064;stroke:#c8b48c;stroke-width:3;filter:drop-shadow(0 0 12px rgba(200,180,140,.6))}.tree-node.notable.can-allocate circle{stroke:#b4a078cc}.tree-node.keystone circle{stroke-width:4}.tree-node.keystone.allocated circle{fill:#645a6e;stroke:#dcc8a0;filter:drop-shadow(0 0 15px rgba(220,200,160,.7))}.tree-node.keystone.can-allocate circle{stroke:#c8b48ce6;stroke-width:3.5}.tree-node text{fill:#ccc;font-size:10px;font-weight:700;text-anchor:middle;pointer-events:none;text-shadow:0 0 4px rgba(0,0,0,1)}.tree-node.allocated text{fill:#e8e8e8}.tree-connection{stroke:#50505a80;stroke-width:2;fill:none}.tree-connection.active{stroke:#8c8ca0cc;stroke-width:2.5;filter:drop-shadow(0 0 4px rgba(140,140,160,.4))}.node-tooltip{position:absolute;background:linear-gradient(135deg,rgba(30,30,35,.98),rgba(40,40,45,.98));border:2px solid rgba(150,150,160,.8);border-radius:6px;padding:12px 16px;pointer-events:none;z-index:9000;min-width:180px;box-shadow:0 0 20px #000000e6}.node-tooltip.hidden{display:none}.tooltip-name{color:#d4d4d8;font-size:1.1rem;font-weight:700;margin-bottom:8px;text-transform:uppercase;letter-spacing:1px}.tooltip-stats{color:#b8b8c0;font-size:.9rem;margin-bottom:8px;line-height:1.5}.tooltip-stats div{margin:3px 0}.tooltip-stat-positive{color:#8bc34a}.tooltip-cost{color:#aaa;font-size:.85rem;margin-bottom:5px}.tooltip-status{color:#888;font-size:.8rem;font-style:italic}.tooltip-status.can-allocate{color:#8bc34a}.tooltip-status.cannot-allocate{color:#f44336}.tooltip-status.allocated{color:#64b5f6}.death-screen{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(128,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:9500;pointer-events:auto;animation:fadeIn 1s ease}.death-screen.hidden{display:none}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.death-content{text-align:center}.death-content h1{color:red;font-size:4rem;text-transform:uppercase;letter-spacing:10px;text-shadow:0 0 30px rgba(255,0,0,.8);margin-bottom:40px;animation:pulse 2s infinite}@keyframes pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.8;transform:scale(1.05)}}.death-btn{padding:20px 40px;font-size:1.3rem;font-weight:700;color:#ddd;background:linear-gradient(135deg,rgba(100,20,20,.9),rgba(150,30,30,.9));border:3px solid rgba(200,60,60,.8);border-radius:6px;cursor:pointer;text-transform:uppercase;letter-spacing:2px;transition:all .3s ease;box-shadow:0 4px 8px #000c}.death-btn:hover{background:linear-gradient(135deg,rgba(150,30,30,1),rgba(180,40,40,1));border-color:#ff6464;box-shadow:0 0 20px #ff3c3c80;transform:translateY(-2px)}.death-btn:active{transform:translateY(0)}.equipment-doll{flex:0 0 340px}.equip-slot .slot-label{position:absolute;bottom:3px;left:50%;transform:translate(-50%);font-size:.7rem;color:#888;text-transform:uppercase;letter-spacing:.5px;pointer-events:none}.equip-slot .slot-content{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:2rem}.inventory-grid-panel{flex:1}.inventory-grid-panel h3{color:#b8b8c0;font-size:1.2rem;margin:0 0 15px;text-transform:uppercase;letter-spacing:2px;text-align:center}.inventory-grid{display:grid;background:rgba(15,15,20,.9);padding:10px;border:2px solid rgba(120,120,130,.4);border-radius:6px;position:relative;margin-top:8px;box-sizing:border-box}.grid-cell{background:rgba(30,30,35,.8);border:1px solid rgba(80,80,90,.5);position:relative}.inventory-slot{width:48px;height:48px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08);border-radius:3px;box-sizing:border-box}.inventory-item{box-sizing:border-box;cursor:grab;position:relative;z-index:10}.grid-item{width:48px;height:48px;background:linear-gradient(135deg,rgba(40,40,50,.95),rgba(50,50,60,.95));border:2px solid;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:1.8rem;cursor:grab;transition:all .2s ease;box-shadow:0 2px 6px #000c,inset 0 0 10px #00000080;-webkit-user-select:none;user-select:none;box-sizing:border-box;position:relative}.equip-slot .grid-item{width:100%;height:100%}.grid-item.normal{border-color:#c8c8c8}.grid-item.magic{border-color:#88f;box-shadow:0 2px 6px #000c,0 0 10px #88f6,inset 0 0 10px #00000080}.grid-item.rare{border-color:#ff7;box-shadow:0 2px 6px #000c,0 0 10px #ff76,inset 0 0 10px #00000080}.grid-item.unique{border-color:#f80;box-shadow:0 2px 6px #000c,0 0 12px #ff880080,inset 0 0 10px #00000080}#ground-item-labels{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:100}.drop-label{position:absolute;pointer-events:auto;cursor:pointer;padding:2px 6px;border-radius:4px;font:12px/1.4 Cinzel,serif;background:rgba(0,0,0,.8);border:1px solid;white-space:nowrap;transform-origin:center;transition:transform .1s;-webkit-user-select:none;user-select:none}.drop-label:hover{transform:scale(1.1)}.rarity-normal{color:#ddd;border-color:#ddd}.rarity-magic{color:#6aa9ff;border-color:#6aa9ff}.rarity-rare{color:#ffd860;border-color:#ffd860}.rarity-unique{color:#ff9b3b;border-color:#ff9b3b}#ground-item-labels.labels-hidden{display:none}#ui-layer{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1000;pointer-events:none}#ui-two-dock{position:absolute;top:8px;right:8px;bottom:8px;left:8px;display:flex;gap:16px;align-items:flex-start;justify-content:flex-start;pointer-events:none}.ui-panel{pointer-events:auto;display:flex;flex-direction:column;overflow:hidden;box-sizing:border-box;max-height:calc(100vh - 16px);border-radius:10px;box-shadow:0 12px 28px #00000073;background:linear-gradient(135deg,rgba(25,25,30,.98),rgba(35,35,40,.98));border:3px solid rgba(150,150,160,.6)}#vendorPanel.ui-panel{max-width:42vw;min-width:380px;width:auto;height:auto;max-height:calc(100vh - 40px);display:flex;flex-direction:column;overflow:hidden}width: auto; height: auto; max-height: calc(100vh - 40px); display: flex; flex-direction: column; overflow: hidden; } .ui-panel__header{flex:0 0 auto;position:sticky;top:0;z-index:1;padding:10px 14px;border-bottom:2px solid rgba(120,120,130,.3);background:linear-gradient(135deg,rgba(25,25,30,.98),rgba(35,35,40,.98));display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}.ui-panel__header span{color:#d4d4d8;font-size:1.2rem;font-weight:700;text-transform:uppercase;letter-spacing:2px;flex:1}.ui-panel__header .close,.ui-panel__header button.close{background:none;border:none;color:#d4d4d8;font-size:1.8rem;cursor:pointer;padding:4px 8px;border-radius:4px;transition:all .2s ease;line-height:1;width:32px;height:32px;display:flex;align-items:center;justify-content:center}.ui-panel__header .close:hover{background:rgba(255,255,255,.1);color:#fff}.ui-panel__body{flex:1 1 auto;overflow-y:auto;overflow-x:hidden;padding:12px 14px;contain:layout paint size}.ui-panel__footer{flex:0 0 auto;position:sticky;bottom:0;padding:8px 14px;border-top:2px solid rgba(120,120,130,.3);background:linear-gradient(135deg,rgba(25,25,30,.98),rgba(35,35,40,.98))}@media (max-width: 1180px){#ui-two-dock{flex-direction:column}#vendorPanel.ui-panel,#inventoryStandalone.ui-panel,#inventoryCompact.ui-panel{max-width:96vw;min-width:360px;width:auto}}.inventory-grid,.vendor-list,.equipment-root,.inventory-main,.vendor-main{max-width:100%;width:100%;box-sizing:border-box}*,*:before,*:after{box-sizing:border-box}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:rgba(0,0,0,.3);border-radius:4px}::-webkit-scrollbar-thumb{background:rgba(150,150,160,.6);border-radius:4px}::-webkit-scrollbar-thumb:hover{background:rgba(180,180,190,.8)}*{scrollbar-width:thin;scrollbar-color:rgba(150,150,160,.6) rgba(0,0,0,.3)}.ui-panel.is-hidden{display:none!important}#vendorPanel.ui-panel:not(.is-hidden),#inventoryStandalone.ui-panel:not(.is-hidden),#inventoryCompact.ui-panel:not(.is-hidden){display:flex!important}.icon-btn{background:none;border:none;color:#d4d4d8;font-size:1.5rem;cursor:pointer;padding:4px 8px;border-radius:4px;transition:all .2s ease;position:absolute;top:8px;right:12px}.icon-btn:hover{background:rgba(255,255,255,.1);color:#fff}.vendor-panel.hidden{display:none}.vendor-container{background:linear-gradient(135deg,rgba(25,25,30,.98),rgba(35,35,40,.98));border:3px solid rgba(150,150,160,.6);border-radius:8px;width:800px;max-width:95%;max-height:90vh;overflow-y:auto;box-shadow:0 0 40px #000000e6,inset 0 0 40px #0000004d;position:relative}.vendor-header{padding:20px 25px;border-bottom:2px solid rgba(120,120,130,.3);position:relative}.vendor-header h2{color:#d4d4d8;margin:0;font-size:1.8rem;text-align:center;text-transform:uppercase;letter-spacing:3px;text-shadow:0 2px 8px rgba(0,0,0,.8)}.vendor-gold{padding:15px 25px;border-bottom:2px solid rgba(120,120,130,.2);display:flex;justify-content:center;align-items:center;gap:10px;background:rgba(30,30,35,.5)}.gold-label{color:#b8b8c0;font-size:1.2rem;font-weight:700;text-transform:uppercase;letter-spacing:1px}.gold-amount{color:#c4b088;font-size:1.5rem;font-weight:700;text-shadow:0 0 8px rgba(196,176,136,.5)}.vendor-main{display:flex;gap:20px;padding:25px}.vendor-stock{flex:1}.vendor-stock h3,.vendor-sell-area h3{color:#b8b8c0;font-size:1.2rem;margin:0 0 15px;text-transform:uppercase;letter-spacing:2px;text-align:center}.vendor-items{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:15px;align-items:start}@media (max-width: 1299px){.vendor-items{grid-template-columns:1fr}}.vendor-item{background:linear-gradient(135deg,rgba(40,40,50,.95),rgba(50,50,60,.95));border:2px solid;border-radius:6px;padding:12px;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 6px #000c,inset 0 0 10px #00000080}.vendor-item:hover{transform:translateY(-2px);box-shadow:0 4px 12px #000000e6,inset 0 0 15px #0009}.vendor-item.normal{border-color:#c8c8c8}.vendor-item.magic{border-color:#88f}.vendor-item.rare{border-color:#ff7}.vendor-item.unique{border-color:#f80}.vendor-item-name{font-size:1rem;font-weight:700;margin-bottom:5px}.vendor-item-price{font-size:.9rem;color:#c4b088;font-weight:700;margin-top:8px}.vendor-item-stats{font-size:.85rem;color:#8bc34a;margin-top:5px}.refresh-btn{width:100%;padding:10px;background:linear-gradient(135deg,rgba(60,60,70,.9),rgba(70,70,80,.9));color:#ddd;border:2px solid rgba(130,130,140,.5);border-radius:4px;cursor:pointer;font-weight:700;text-transform:uppercase;letter-spacing:1px;transition:all .3s ease}.refresh-btn:hover{background:linear-gradient(135deg,rgba(70,70,80,1),rgba(80,80,90,1));border-color:#a0a0b4cc;box-shadow:0 0 10px #9696aa4d}.vendor-sell-area{display:flex;flex-direction:column}.hint{font-size:.85rem;color:#aaa;text-align:center;margin-bottom:10px;font-style:italic}.sell-zone{flex:1;min-height:200px;background:rgba(30,30,35,.7);border:2px dashed rgba(120,120,130,.4);border-radius:6px;display:flex;align-items:center;justify-content:center;color:#888;font-size:.9rem;text-align:center;padding:20px;transition:all .3s ease}.sell-zone.can-drop{border-color:#64c864cc;background:rgba(40,60,40,.7);color:#8bc34a}.sell-zone.cannot-drop{border-color:#c86464cc;background:rgba(60,30,30,.7);color:#f44336}@media (max-width: 900px){.vendor-main{flex-direction:column}}#vendorPanel{width:50vw!important;min-width:500px!important}#inventoryStandalone.ui-panel{width:auto!important;min-width:1000px!important;max-width:95vw!important;max-height:calc(100vh - 120px)!important;z-index:1300!important}.ui-panel{display:flex!important;flex-direction:column!important;height:calc(100vh - 20px)!important;max-height:calc(100vh - 20px)!important;overflow:hidden!important;z-index:1100!important}.ui-panel__body{flex:1 1 auto!important;overflow-y:auto!important;overflow-x:hidden!important}.vendor-content{display:flex!important;gap:12px!important;overflow:hidden!important}.vendor-stock{flex:1 1 90%!important;overflow-y:auto!important;padding-right:6px!important}#vendor-items{display:grid!important;grid-template-columns:repeat(auto-fill,minmax(200px,1fr))!important;gap:12px!important}.sell-area,.vendor-sell-area{flex:0 0 40px!important;min-height:40px!important;max-height:40px!important;overflow-y:auto!important;display:flex!important;align-items:center!important;justify-content:center!important}.sell-zone{color:transparent!important;font-size:0!important}#inventoryStandalone.centered{position:fixed!important;right:20px!important;top:50%!important;left:auto!important;transform:translateY(-50%)!important;z-index:1300!important;max-height:calc(100vh - 80px)!important;max-width:600px!important;margin:0!important}#inventoryStandalone .ui-panel__body{display:flex;flex-direction:column;padding:16px;gap:16px;overflow:auto!important}#inventoryStandalone .inventory-root{display:flex;gap:24px;align-items:stretch;min-width:0;min-height:0;flex:1}#inventoryStandalone #equipmentRoot{flex:0 0 320px;display:flex;flex-direction:column;gap:12px}#inventoryStandalone #inventory-grid{--cell: 54px;--gap: 2px;display:grid;grid-template-columns:repeat(var(--cols, 10),var(--cell));grid-template-rows:repeat(var(--rows, 7),var(--cell));gap:var(--gap);padding:12px;width:calc(var(--cols, 10) * var(--cell) + (var(--cols, 10) - 1) * var(--gap) + 24px);height:calc(var(--rows, 7) * var(--cell) + (var(--rows, 7) - 1) * var(--gap) + 24px)}#inventoryStandalone #inventory-grid .inv-cell,#inventoryCompact .inv-cell{width:var(--cell, 54px);height:var(--cell, 54px);box-sizing:border-box;border:1px solid rgba(255,255,255,.07);background:rgba(255,255,255,.03);border-radius:3px}@media (max-width: 1180px){#vendorPanel,#inventoryStandalone,#inventoryCompact{width:min(96vw,1100px)!important;min-width:360px!important}#inventoryStandalone .inventory-root{flex-direction:column}#inventoryStandalone #equipmentRoot{width:auto!important;flex:none}#inventoryStandalone:not(.is-hidden){position:static!important;left:auto!important;top:auto!important;transform:none!important}}#ui-two-dock>#vendorPanel.ui-panel,#ui-two-dock>#inventoryCompact.ui-panel{flex:1 1 0}.inventory-header,.ui-panel__header{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;position:relative}.inventory-header span,.ui-panel__header span{margin-left:6px}.inventory-header .close,.ui-panel__header .close{position:absolute;right:12px;top:8px;background:transparent;border:none;color:#d4d4d8;font-size:1.4rem;cursor:pointer;pointer-events:auto}.equipment-root{flex:0 0 380px}.inventory-grid{--cell: 54px}.grid-item.normal,.inventory-item.normal{border:2px solid #c8c8c8}.grid-item.magic,.inventory-item.magic{border:2px solid #8888ff}.grid-item.rare,.inventory-item.rare{border:2px solid #ffff77}.grid-item.unique,.inventory-item.unique{border:2px solid #ff8800}.map-device-content{max-width:900px;width:95%;max-height:85vh;overflow-y:auto}.map-device-sections{display:flex;gap:25px;margin:25px 0;align-items:stretch}.map-slot-section,.map-info-section{flex:1;display:flex;flex-direction:column}.map-slot-section h3,.map-info-section h3{color:#d4d4d8;margin-bottom:15px;font-size:1.2rem;text-transform:uppercase;letter-spacing:1px;text-align:center}.map-device-slot{width:100%;height:140px;border:3px dashed rgba(120,120,130,.5);border-radius:10px;display:flex;align-items:center;justify-content:center;background:rgba(30,30,35,.8);transition:all .3s ease;position:relative;flex:1}.map-device-slot.empty{background:rgba(30,30,35,.5)}.map-device-slot:not(.empty){border-color:#64c864cc;background:rgba(40,60,40,.8);box-shadow:inset 0 0 25px #64c8644d}.slot-placeholder{color:#888;font-size:1.1rem;text-align:center;font-style:italic}.map-device-slot .map-item-display{display:flex;flex-direction:column;align-items:center;gap:10px}.map-device-slot .map-icon{font-size:2.5rem;filter:drop-shadow(0 0 8px rgba(100,200,100,.5))}.map-device-slot .map-name{color:#d4d4d8;font-weight:700;font-size:1.1rem;text-align:center;text-shadow:0 0 5px rgba(100,200,100,.3)}.clear-map-btn{margin-top:15px;background:rgba(200,50,50,.8);border:2px solid rgba(255,100,100,.6);color:#faa;padding:8px 16px;border-radius:6px;cursor:pointer;font-weight:700;font-size:.95rem;text-transform:uppercase;letter-spacing:.5px;transition:all .2s ease;width:100%}.clear-map-btn:hover{background:rgba(255,50,50,.9);border-color:#ff9696cc;transform:translateY(-1px);box-shadow:0 4px 12px #ff32324d}.map-info-display{background:rgba(30,30,35,.8);border:2px solid rgba(120,120,130,.3);border-radius:10px;padding:20px;flex:1;display:flex;flex-direction:column;justify-content:center}.no-map-selected{color:#888;text-align:center;margin:0;font-size:1.1rem;font-style:italic}.map-info-content{color:#d4d4d8;width:100%}.map-info-content h4{margin:0 0 15px;color:#b8b8c0;font-size:1.2rem;text-align:center;text-transform:uppercase;letter-spacing:1px}.map-modifiers{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:15px}.map-modifier{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:rgba(40,40,45,.6);border-radius:6px;font-size:.95rem;border:1px solid rgba(80,80,90,.3)}.map-modifier .modifier-label{color:#ccc;font-weight:500}.map-modifier .modifier-value{color:#8bc34a;font-weight:700;font-size:1rem}.map-device-actions{display:flex;gap:15px;justify-content:center;margin-top:30px;padding-top:20px;border-top:2px solid rgba(120,120,130,.2)}.activate-btn{background:linear-gradient(135deg,rgba(50,150,50,.9),rgba(30,120,30,.9));border:2px solid rgba(100,200,100,.8);color:#afa;padding:12px 30px;border-radius:8px;cursor:pointer;font-weight:700;font-size:1.1rem;text-transform:uppercase;letter-spacing:1px;transition:all .3s ease;box-shadow:0 0 15px #32963266}.activate-btn:hover:not(:disabled){background:linear-gradient(135deg,rgba(50,200,50,1),rgba(30,150,30,1));border-color:#96ff96e6;transform:translateY(-2px);box-shadow:0 6px 20px #32963299}.activate-btn:disabled{background:linear-gradient(135deg,rgba(60,60,60,.5),rgba(50,50,50,.5));border-color:#6464644d;color:#666;cursor:not-allowed;box-shadow:none;transform:none}.cancel-btn{background:linear-gradient(135deg,rgba(100,100,110,.8),rgba(80,80,90,.8));border:2px solid rgba(150,150,160,.6);color:#d4d4d8;padding:12px 30px;border-radius:8px;cursor:pointer;font-weight:700;font-size:1.1rem;text-transform:uppercase;letter-spacing:1px;transition:all .3s ease}.cancel-btn:hover{background:linear-gradient(135deg,rgba(120,120,130,.9),rgba(100,100,110,.9));border-color:#b4b4becc;transform:translateY(-2px)}@media (max-width: 900px){.map-device-sections{flex-direction:column;gap:20px}.map-device-slot{height:120px}.map-modifiers{grid-template-columns:1fr}.map-device-actions{flex-direction:column}.activate-btn,.cancel-btn{width:100%}}.inventory-panel{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.85);display:flex;align-items:center;justify-content:center;z-index:7000;pointer-events:auto}.inventory-panel.hidden{display:none}.inventory-container{background:linear-gradient(135deg,rgba(25,25,30,.98),rgba(35,35,40,.98));border:3px solid rgba(150,150,160,.6);border-radius:8px;width:900px;max-width:95%;max-height:90vh;overflow-y:auto;box-shadow:0 0 40px #000000e6,inset 0 0 40px #0000004d;position:relative}.inventory-header{padding:20px 25px;border-bottom:2px solid rgba(120,120,130,.3);position:relative}.inventory-header h2{color:#d4d4d8;margin:0;font-size:1.8rem;text-align:center;text-transform:uppercase;letter-spacing:3px;text-shadow:0 2px 8px rgba(0,0,0,.8)}#inventoryStandalone .clear-btn{position:absolute!important;right:50px!important;top:50%!important;transform:translateY(-50%)!important;z-index:10!important;background:rgba(255,0,0,.9)!important;border:3px solid #ffffff!important;color:#fff!important;font-weight:700!important;font-size:14px!important;padding:8px 12px!important;border-radius:6px!important;cursor:pointer!important;box-shadow:0 0 10px #ff000080!important}.clear-btn:hover{background:rgba(100,50,50,.9);border-color:#c86464cc;color:#fcc}.inventory-main{display:flex;gap:25px;padding:25px}#inventoryStandalone .ui-panel__body{display:flex;flex-direction:column;padding:16px;gap:16px}.inventory-root{display:flex;gap:24px;align-items:flex-start}.equipment-root{flex:0 0 320px;display:flex;flex-direction:column;gap:12px}.equipment-doll{flex:0 0 380px}.equipment-doll h3{color:#b8b8c0;font-size:1.2rem;margin:0 0 15px;text-transform:uppercase;letter-spacing:2px;text-align:center}.doll-grid{display:grid;grid-template-areas:".    helmet  helmet  amulet" "weapon chest chest offhand" "weapon chest chest offhand" "gloves belt belt boots" "ring1  .    .    ring2";grid-template-columns:repeat(4,70px);grid-template-rows:repeat(5,70px);gap:8px;justify-content:center}.equip-slot{background:linear-gradient(135deg,rgba(30,30,35,.9),rgba(40,40,45,.9));border:2px solid rgba(120,120,130,.5);border-radius:6px;position:relative;display:flex;align-items:center;justify-content:center;box-shadow:inset 0 0 15px #000c;transition:all .3s ease}.equip-slot.can-drop{border-color:#64c864cc;background:linear-gradient(135deg,rgba(40,60,40,.9),rgba(50,70,50,.9));box-shadow:inset 0 0 15px #000c,0 0 15px #64c86480}.equip-slot.cannot-drop{border-color:#c86464cc;background:linear-gradient(135deg,rgba(60,30,30,.9),rgba(70,40,40,.9))}.slot-label{position:absolute;bottom:3px;left:50%;transform:translate(-50%);font-size:.7rem;color:#888;text-transform:uppercase;letter-spacing:.5px;pointer-events:none}.slot-content{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:2rem}.inventory-grid{background:rgba(15,15,20,.9);border:2px solid rgba(120,120,130,.4);border-radius:6px;position:relative;box-sizing:border-box;padding:12px;--cell: 54px;--gap: 2px;display:grid;grid-template-columns:repeat(var(--cols, 10),var(--cell));grid-template-rows:repeat(var(--rows, 6),var(--cell));gap:var(--gap);width:calc(var(--cols, 10) * var(--cell) + (var(--cols, 10) - 1) * var(--gap) + 24px);height:calc(var(--rows, 6) * var(--cell) + (var(--rows, 6) - 1) * var(--gap) + 24px);min-width:calc(var(--cols, 10) * var(--cell) + (var(--cols, 10) - 1) * var(--gap) + 24px);min-height:calc(var(--rows, 6) * var(--cell) + (var(--rows, 6) - 1) * var(--gap) + 24px)}.inv-cell,.inventory-item{box-sizing:border-box;width:var(--cell);height:var(--cell)}.grid-cell,.inv-cell{background:rgba(30,30,35,.8);border:1px solid rgba(80,80,90,.5);position:relative}.grid-cell.occupied{background:rgba(40,40,50,.9)}.grid-cell.hover-valid{background:rgba(40,80,40,.7);border-color:#64c864cc}.grid-cell.hover-invalid{background:rgba(80,40,40,.7);border-color:#c86464cc}.grid-item,.inventory-item{position:relative;cursor:grab;z-index:1;background:linear-gradient(135deg,rgba(40,40,50,.95),rgba(50,50,60,.95));border:2px solid;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:1.8rem;transition:all .2s ease;box-shadow:0 2px 6px #000c,inset 0 0 10px #00000080;-webkit-user-select:none;user-select:none;box-sizing:border-box}.grid-item:active{cursor:grabbing}.grid-item.dragging{opacity:.6;z-index:1000}.grid-item.normal,.inventory-item.normal{border-color:#c8c8c8}.grid-item.magic,.inventory-item.magic{border-color:#88f}.grid-item.rare,.inventory-item.rare{border-color:#ff7}.grid-item.unique,.inventory-item.unique{border-color:#f80}.item-tooltip{position:absolute;background:linear-gradient(135deg,rgba(20,20,25,.98),rgba(30,30,35,.98));border:3px solid;border-radius:6px;padding:15px;pointer-events:none;z-index:10000;min-width:220px;max-width:350px;box-shadow:0 0 25px #000000f2}.item-tooltip.hidden{display:none}.item-tooltip.normal{border-color:#c8c8c8}.item-tooltip.magic{border-color:#88f}.item-tooltip.rare{border-color:#ff7}.item-tooltip.unique{border-color:#f80}.tooltip-header{margin-bottom:12px;border-bottom:2px solid rgba(120,120,130,.3);padding-bottom:10px}.tooltip-item-name{font-size:1.3rem;font-weight:700;margin-bottom:5px;text-transform:uppercase;letter-spacing:1px}.tooltip-item-type{font-size:.9rem;color:#888;text-transform:capitalize}.tooltip-affixes{font-size:.95rem;line-height:1.6}.tooltip-affixes div{color:#8bc34a;margin:3px 0}@media (max-width: 1000px){.inventory-main{flex-direction:column}.equipment-doll{flex:none}}#inventoryCompact{width:50vw;min-width:480px;height:100vh;max-height:calc(100vh - 40px);display:flex;flex-direction:column;overflow:hidden}#inventoryCompact .clear-btn{position:absolute!important;right:50px!important;top:50%!important;transform:translateY(-50%)!important;z-index:10!important;background:rgba(255,0,0,.9)!important;border:3px solid #ffffff!important;color:#fff!important;font-weight:700!important;font-size:14px!important;padding:8px 12px!important;border-radius:6px!important;cursor:pointer!important;box-shadow:0 0 10px #ff000080!important}#inventoryCompact .clear-btn:hover{background:rgba(100,50,50,.9);border-color:#c86464cc;color:#fcc}#inventoryCompact .ui-panel__body{overflow:hidden;flex:1;display:flex;flex-direction:column}#inventoryCompact .invc-body{padding:10px;flex:1;display:flex;flex-direction:column}#inventoryCompact .invc-content{display:grid;grid-template-columns:190px minmax(0,1fr);grid-template-rows:1fr;gap:8px;align-items:stretch;flex:1;min-height:0;width:100%;height:100%}#inventoryCompact .invc-equip{width:190px;height:100%;display:flex;flex-direction:column}#inventoryCompact .invc-equip .equipment-doll{display:flex;flex-direction:column;height:100%;justify-content:space-between}#inventoryCompact .invc-equip .equipment-doll h3{color:#b8b8c0;font-size:1rem;margin:0 0 12px;text-transform:uppercase;letter-spacing:1px;text-align:center}#inventoryCompact .invc-equip .doll-grid{display:grid;grid-template-areas:".    helmet  helmet  amulet" "weapon chest chest offhand" "weapon chest chest offhand" "gloves belt belt boots" "ring1  .    .    ring2";grid-template-columns:repeat(4,46px);grid-template-rows:repeat(5,46px);gap:0px;justify-content:center;margin-bottom:auto;flex:1}#inventoryCompact .invc-equip .equip-slot{background:linear-gradient(135deg,rgba(30,30,35,.9),rgba(40,40,45,.9));border:2px solid rgba(120,120,130,.5);border-radius:6px;position:relative;display:flex;align-items:center;justify-content:center;box-shadow:inset 0 0 15px #000c;transition:all .3s ease;width:46px;height:46px;box-sizing:border-box}#inventoryCompact .invc-equip .equip-slot.can-drop{border-color:#64c864cc;background:linear-gradient(135deg,rgba(40,60,40,.9),rgba(50,70,50,.9));box-shadow:inset 0 0 15px #000c,0 0 15px #64c86480}#inventoryCompact .invc-equip .equip-slot.cannot-drop{border-color:#c86464cc;background:linear-gradient(135deg,rgba(60,30,30,.9),rgba(70,40,40,.9))}#inventoryCompact .invc-equip .slot-label{position:absolute;bottom:2px;left:50%;transform:translate(-50%);font-size:.6rem;color:#888;text-transform:uppercase;letter-spacing:.5px;pointer-events:none}#inventoryCompact .invc-equip .slot-content{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:1.5rem}#inventoryCompact .invc-grid{--cell: 46px;--gap: 2px;display:grid;grid-template-columns:repeat(var(--cols, 10),var(--cell));grid-template-rows:repeat(var(--rows, 7),var(--cell));gap:var(--gap);position:relative;background:rgba(15,15,20,.9);padding:10px;border:2px solid rgba(120,120,130,.4);border-radius:6px;box-sizing:border-box;width:calc(var(--cols, 10) * var(--cell) + (var(--cols, 10) - 1) * var(--gap) + 20px);height:calc(var(--rows, 7) * var(--cell) + (var(--rows, 7) - 1) * var(--gap) + 20px);min-width:calc(var(--cols, 10) * var(--cell) + (var(--cols, 10) - 1) * var(--gap) + 20px);min-height:calc(var(--rows, 7) * var(--cell) + (var(--rows, 7) - 1) * var(--gap) + 20px);overflow:visible}#inventoryCompact .inv-cell{width:var(--cell, 46px);height:var(--cell, 46px);box-sizing:border-box;background:rgba(30,30,35,.8);border:1px solid rgba(80,80,90,.5);position:relative}#inventoryCompact .inv-cell.occupied{background:rgba(40,40,50,.9)}#inventoryCompact .inv-cell.hover-valid{background:rgba(40,80,40,.7);border-color:#64c864cc}#inventoryCompact .inv-cell.hover-invalid{background:rgba(80,40,40,.7);border-color:#c86464cc}#inventoryCompact .inventory-item{width:100%;height:100%;min-width:48px;min-height:48px;box-sizing:border-box;cursor:grab;position:relative;z-index:1;background:linear-gradient(135deg,rgba(40,40,50,.95),rgba(50,50,60,.95));border:2px solid;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:1.6rem;transition:all .2s ease;box-shadow:0 2px 6px #000c,inset 0 0 10px #00000080;-webkit-user-select:none;user-select:none}#inventoryCompact .grid-item{width:100%;height:100%;min-width:48px;min-height:48px;box-sizing:border-box;cursor:grab;background:linear-gradient(135deg,rgba(40,40,50,.95),rgba(50,50,60,.95));border:2px solid;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:1.6rem;transition:all .2s ease;box-shadow:0 2px 6px #000c,inset 0 0 10px #00000080;-webkit-user-select:none;user-select:none;position:relative}#inventoryCompact .invc-equip .grid-item{width:100%;height:100%}#inventoryCompact .inventory-item:active,#inventoryCompact .grid-item:active{cursor:grabbing}#inventoryCompact .inventory-item.dragging,#inventoryCompact .grid-item.dragging{opacity:.6;z-index:1000}#inventoryCompact .grid-item.normal,#inventoryCompact .inventory-item.normal{border-color:#c8c8c8}#inventoryCompact .grid-item.magic,#inventoryCompact .inventory-item.magic{border-color:#88f;box-shadow:0 2px 6px #000c,0 0 10px #88f6,inset 0 0 10px #00000080}#inventoryCompact .grid-item.rare,#inventoryCompact .inventory-item.rare{border-color:#ff7;box-shadow:0 2px 6px #000c,0 0 10px #ff76,inset 0 0 10px #00000080}#inventoryCompact .grid-item.unique,#inventoryCompact .inventory-item.unique{border-color:#f80;box-shadow:0 2px 6px #000c,0 0 12px #ff880080,inset 0 0 10px #00000080}#inventoryCompact #invc-item-tooltip{position:absolute;background:linear-gradient(135deg,rgba(20,20,25,.98),rgba(30,30,35,.98));border:3px solid;border-radius:6px;padding:15px;pointer-events:none;z-index:10000;min-width:220px;max-width:350px;box-shadow:0 0 25px #000000f2}#inventoryCompact #invc-item-tooltip.hidden{display:none}#inventoryCompact #invc-item-tooltip.normal{border-color:#c8c8c8}#inventoryCompact #invc-item-tooltip.magic{border-color:#88f}#inventoryCompact #invc-item-tooltip.rare{border-color:#ff7}#inventoryCompact #invc-item-tooltip.unique{border-color:#f80}#inventoryCompact .tooltip-header{margin-bottom:12px;border-bottom:2px solid rgba(120,120,130,.3);padding-bottom:10px}#inventoryCompact .tooltip-item-name{font-size:1.3rem;font-weight:700;margin-bottom:5px;text-transform:uppercase;letter-spacing:1px}#inventoryCompact .tooltip-item-type{font-size:.9rem;color:#888;text-transform:capitalize}#inventoryCompact .tooltip-affixes{font-size:.95rem;line-height:1.6}#inventoryCompact .tooltip-affixes div{color:#8bc34a;margin:3px 0}
